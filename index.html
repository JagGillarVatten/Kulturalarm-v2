<!DOCTYPE html>
<html lang="sv">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kulturalarm v2</title>
    <meta name="description" content="Ett smart schema för Kulturama" />
    <meta name="theme-color" content="#2563eb" />

    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
  </head>
  <body>
    <div class="container">
      <div class="main-content">
        <div class="left-panel">
          <div class="clock-container">
            <div id="clock-container">     
              <div id="clock">         
                <div id="hour" class="hand" style="--color: #ff4d65; --height: 76px; --width: 4px"><i></i></div>         
                <div id="minute" class="hand" style="--color: #00a6ff; --height: 86px; --width: 3px"><i></i></div>         
                <div id="second" class="hand" style="--color: #ffffff; --height: 96px; --width: 2px"><i></i></div>         
                <span style="--i: 1; --j: 0"><i>1</i></span>         
                <span style="--i: 2; --j: 0"><i>2</i></span>         
                <span style="--i: 3; --j: 3"><i>3</i></span>         
                <span style="--i: 4; --j: 0"><i>4</i></span>         
                <span style="--i: 5; --j: 0"><i>5</i></span>         
                <span style="--i: 6; --j: 6"><i>6</i></span>         
                <span style="--i: 7; --j: 0"><i>7</i></span>         
                <span style="--i: 8; --j: 0"><i>8</i></span>         
                <span style="--i: 9; --j: 9"><i>9</i></span>         
                <span style="--i: 10; --j: 0"><i>10</i></span>         
                <span style="--i: 11; --j: 0"><i>11</i></span>         
                <span style="--i: 12; --j: 12"><i>12</i></span>     
              </div> 
            </div>
            <div class="digital-clock depth-effect" id="digitalClock">00:00</div>
            <div class="date-display depth-effect" id="dateDisplay"></div>
          </div>

          <section class="current-event depth-effect" id="currentEvent">
            <div class="event-status" id="eventStatus"></div>
            <h2 id="currentEventHeader">Just nu</h2>
            <div class="event-details" id="eventInfo">
              <div class="event-name" id="eventName"></div>
              <div class="event-teacher" id="eventTeacher"></div>
              <div class="event-time" id="eventTime"></div>
              <div class="time-remaining">Tid kvar: <span id="timeRemaining"></span></div>
            </div>
            <div class="progress-bar">
              <div class="progress depth-effect" id="progressBar"></div>
            </div>
          </section>
        </div>

        <div class="right-panel">
          <section class="schedule-table depth-effect" id="scheduleTable">
            <div class="schedule-header">
              <h3>Dagens Schema</h3>
              <div class="error-message" id="scheduleError" style="display: none">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12" y2="16"></line>
                </svg>
                <span id="scheduleErrorText"></span>
              </div>
            </div>
            <table>
              <thead>
                <tr>
                  <th>Tid</th>
                  <th>Aktivitet</th>
                  <th>Längd</th>
                  <th>Klass</th>
                </tr>
              </thead>
              <tbody id="scheduleBody"></tbody>
            </table>
          </section>
        </div>
      </div>

      <div class="controls depth-effect">
        <select id="schemaSelect" class="schedule-select" aria-label="Välj schema">
          <option value="mp2">Mp2</option>
          <option value="am2">Am2</option>
        </select>
        <button class="btn depth-effect" onclick="toggleSchedule()" aria-label="Visa eller dölj dagens schema">
          Visa dagens schema
        </button>
      </div>
    </div>

    <link rel="manifest" href="manifest.json" />
    <script src="https://cdn.jsdelivr.net/npm/ical.js@1.5.0/build/ical.min.js"></script>
    <script src="js/script.js"></script>

    <noscript>
      <div class="error-message">Denna app kräver JavaScript för att fungera.</div>
    </noscript>
  </body>
</html>